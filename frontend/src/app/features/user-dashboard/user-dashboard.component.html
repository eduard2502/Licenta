<mat-sidenav-container class="user-dashboard-container">
  <mat-sidenav #sidenav mode="side" opened class="user-sidenav">
    <div class="sidenav-header">
      <mat-icon>account_circle</mat-icon>
      <h3>Salut, {{ authService.getCurrentUser()?.username || 'Client' }}!</h3>
    </div>
    <mat-nav-list>
      <a mat-list-item routerLink="/user/profile" routerLinkActive="active-link">
        <mat-icon matListItemIcon>person</mat-icon>
        <span matListItemTitle>Profilul Meu</span>
      </a>
      <a mat-list-item routerLink="/user/orders" routerLinkActive="active-link">
        <mat-icon matListItemIcon>history</mat-icon>
        <span matListItemTitle>Comenzile Mele</span>
      </a>
      <a mat-list-item routerLink="/products" routerLinkActive="active-link"> <mat-icon matListItemIcon>storefront</mat-icon>
        <span matListItemTitle>Vezi Produse</span>
      </a>
      <mat-divider></mat-divider>
      <a mat-list-item (click)="authService.logout()">
        <mat-icon matListItemIcon>logout</mat-icon>
        <span matListItemTitle>Deconectare</span>
      </a>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content class="user-content">
    <router-outlet></router-outlet>
    <div *ngIf="router.url === '/user' || router.url === '/user/'" class="dashboard-welcome">
      <h2>Bine ai venit în contul tău!</h2>
      <p>De aici poți naviga către profilul tău, istoricul comenzilor sau poți explora produsele noastre.</p>
      
      <!-- Secțiune Produse Recomandate - COMENTATĂ TEMPORAR sau simplificată -->
      <!--
      <div *ngIf="recommendedProducts.length > 0" class="recommended-products">
        <h3>Produse Recomandate</h3>
        <div class="products-grid">
          <mat-card *ngFor="let product of recommendedProducts" class="product-card-item" [routerLink]="['/products', product.id]">
            -- Comentat img
            -- <img mat-card-image *ngIf="product.imageBase64" [src]="product.imageBase64" [alt]="product.name">
            -- <img mat-card-image *ngIf="!product.imageBase64" src="[https://via.placeholder.com/200x150?text=Produs](https://via.placeholder.com/200x150?text=Produs)" alt="Imagine indisponibilă">
            <div style="height: 150px; background-color: #eee; display:flex; align-items:center; justify-content:center; border-top-left-radius: 4px; border-top-right-radius: 4px;">
                <mat-icon style="font-size: 48px; color: #aaa;">inventory_2</mat-icon>
            </div>
            <mat-card-title>{{ product.name }}</mat-card-title>
            <mat-card-subtitle>{{ product.price | currency:'RON':'symbol':'1.2-2' }}</mat-card-subtitle>
            <mat-card-actions>
              <button mat-button color="primary">Vezi Detalii</button>
            </mat-card-actions>
          </mat-card>
        </div>
      </div>
      -->
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
